<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fennix Project: userspace/apps/system/monoton/cwalk.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fennix Project
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Opeating System from scratch made in C and C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cwalk.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
</div>
<p><a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:d5/daa/structcwk__segment"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a></td></tr>
<tr class="separator:d5/daa/structcwk__segment"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a418674d8e5d6cf699039c4912786817b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a418674d8e5d6cf699039c4912786817b">CWK_LIBRARY_H</a></td></tr>
<tr class="separator:a418674d8e5d6cf699039c4912786817b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5b9d6c5afeb02541963faaa15d24b29"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#af5b9d6c5afeb02541963faaa15d24b29">CWK_EXPORT</a></td></tr>
<tr class="separator:af5b9d6c5afeb02541963faaa15d24b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd784c18b95ed6a15cdbe974749b25d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#aebd784c18b95ed6a15cdbe974749b25d">CWK_IMPORT</a></td></tr>
<tr class="separator:aebd784c18b95ed6a15cdbe974749b25d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1557461a3dd64c516ec9eb8bf08de382"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a></td></tr>
<tr class="separator:a1557461a3dd64c516ec9eb8bf08de382"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a6108f90d2ae646d1b255bea8be6cd66c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66c">cwk_segment_type</a> { <br />
&#160;&#160;<a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66cac059231d4bfff9efb6c9ca8500fd1905">CWK_NORMAL</a>, 
<a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66ca1f03d98e62d4069cca7110ef82664ff7">CWK_CURRENT</a>, 
<a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66ca7f5cc99da0786d172da65e718652357b">CWK_BACK</a>, 
<a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66cac059231d4bfff9efb6c9ca8500fd1905">CWK_NORMAL</a>, 
<br />
&#160;&#160;<a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66ca1f03d98e62d4069cca7110ef82664ff7">CWK_CURRENT</a>, 
<a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66ca7f5cc99da0786d172da65e718652357b">CWK_BACK</a>, 
<a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66cac059231d4bfff9efb6c9ca8500fd1905">CWK_NORMAL</a>, 
<a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66ca1f03d98e62d4069cca7110ef82664ff7">CWK_CURRENT</a>, 
<br />
&#160;&#160;<a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66ca7f5cc99da0786d172da65e718652357b">CWK_BACK</a>
<br />
 }</td></tr>
<tr class="separator:a6108f90d2ae646d1b255bea8be6cd66c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af41b6d6cf436770b89a71c7b0dfb8c35"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35">cwk_path_style</a> { <br />
&#160;&#160;<a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5">CWK_STYLE_WINDOWS</a>, 
<a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2">CWK_STYLE_UNIX</a>, 
<a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5">CWK_STYLE_WINDOWS</a>, 
<a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2">CWK_STYLE_UNIX</a>, 
<br />
&#160;&#160;<a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5">CWK_STYLE_WINDOWS</a>, 
<a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2">CWK_STYLE_UNIX</a>
<br />
 }</td></tr>
<tr class="memdesc:af41b6d6cf436770b89a71c7b0dfb8c35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the style which is used for the path parsing and generation.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35">More...</a><br /></td></tr>
<tr class="separator:af41b6d6cf436770b89a71c7b0dfb8c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0e6b3622394c68a0286085b8907cf5b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a0e6b3622394c68a0286085b8907cf5b2">cwk_path_get_absolute</a> (const char *base, const char *path, char *buffer, size_t buffer_size)</td></tr>
<tr class="memdesc:a0e6b3622394c68a0286085b8907cf5b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates an absolute path based on a base.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a0e6b3622394c68a0286085b8907cf5b2">More...</a><br /></td></tr>
<tr class="separator:a0e6b3622394c68a0286085b8907cf5b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383836841603aad4712029e5f42de6bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a383836841603aad4712029e5f42de6bb">cwk_path_get_relative</a> (const char *base_directory, const char *path, char *buffer, size_t buffer_size)</td></tr>
<tr class="memdesc:a383836841603aad4712029e5f42de6bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a relative path based on a base.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a383836841603aad4712029e5f42de6bb">More...</a><br /></td></tr>
<tr class="separator:a383836841603aad4712029e5f42de6bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b0ad7a91b604b5fff516499b84c97d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a2b0ad7a91b604b5fff516499b84c97d7">cwk_path_join</a> (const char *path_a, const char *path_b, char *buffer, size_t buffer_size)</td></tr>
<tr class="memdesc:a2b0ad7a91b604b5fff516499b84c97d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Joins two paths together.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a2b0ad7a91b604b5fff516499b84c97d7">More...</a><br /></td></tr>
<tr class="separator:a2b0ad7a91b604b5fff516499b84c97d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac032cd6779d648b793ef66efbb6219d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#ac032cd6779d648b793ef66efbb6219d6">cwk_path_join_multiple</a> (const char **paths, char *buffer, size_t buffer_size)</td></tr>
<tr class="memdesc:ac032cd6779d648b793ef66efbb6219d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Joins multiple paths together.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#ac032cd6779d648b793ef66efbb6219d6">More...</a><br /></td></tr>
<tr class="separator:ac032cd6779d648b793ef66efbb6219d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ac1f6c3505a13cf6af679b3e1075ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#ac5ac1f6c3505a13cf6af679b3e1075ab">cwk_path_get_root</a> (const char *path, size_t *length)</td></tr>
<tr class="memdesc:ac5ac1f6c3505a13cf6af679b3e1075ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the root of a path.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#ac5ac1f6c3505a13cf6af679b3e1075ab">More...</a><br /></td></tr>
<tr class="separator:ac5ac1f6c3505a13cf6af679b3e1075ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e8d1717f2dcf7dbfe8a54a03be22b58"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a8e8d1717f2dcf7dbfe8a54a03be22b58">cwk_path_change_root</a> (const char *path, const char *new_root, char *buffer, size_t buffer_size)</td></tr>
<tr class="memdesc:a8e8d1717f2dcf7dbfe8a54a03be22b58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the root of a path.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a8e8d1717f2dcf7dbfe8a54a03be22b58">More...</a><br /></td></tr>
<tr class="separator:a8e8d1717f2dcf7dbfe8a54a03be22b58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae129e02017ddd7ad9c7d7d24f107079"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#aae129e02017ddd7ad9c7d7d24f107079">cwk_path_is_absolute</a> (const char *path)</td></tr>
<tr class="memdesc:aae129e02017ddd7ad9c7d7d24f107079"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine whether the path is absolute or not.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#aae129e02017ddd7ad9c7d7d24f107079">More...</a><br /></td></tr>
<tr class="separator:aae129e02017ddd7ad9c7d7d24f107079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab734e7277e96ea5d5acec4fbbd2fc402"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#ab734e7277e96ea5d5acec4fbbd2fc402">cwk_path_is_relative</a> (const char *path)</td></tr>
<tr class="memdesc:ab734e7277e96ea5d5acec4fbbd2fc402"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine whether the path is relative or not.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#ab734e7277e96ea5d5acec4fbbd2fc402">More...</a><br /></td></tr>
<tr class="separator:ab734e7277e96ea5d5acec4fbbd2fc402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5e93482b11e37af62bb9f605c8866a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#aa5e93482b11e37af62bb9f605c8866a0">cwk_path_get_basename</a> (const char *path, const char **basename, size_t *length)</td></tr>
<tr class="memdesc:aa5e93482b11e37af62bb9f605c8866a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the basename of a file path.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#aa5e93482b11e37af62bb9f605c8866a0">More...</a><br /></td></tr>
<tr class="separator:aa5e93482b11e37af62bb9f605c8866a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13992aee0f81f3d51e1c793a97fb780a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a13992aee0f81f3d51e1c793a97fb780a">cwk_path_change_basename</a> (const char *path, const char *new_basename, char *buffer, size_t buffer_size)</td></tr>
<tr class="memdesc:a13992aee0f81f3d51e1c793a97fb780a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the basename of a file path.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a13992aee0f81f3d51e1c793a97fb780a">More...</a><br /></td></tr>
<tr class="separator:a13992aee0f81f3d51e1c793a97fb780a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad02629bf5420bb515fb6c95633b7b164"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#ad02629bf5420bb515fb6c95633b7b164">cwk_path_get_dirname</a> (const char *path, size_t *length)</td></tr>
<tr class="memdesc:ad02629bf5420bb515fb6c95633b7b164"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the dirname of a file path.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#ad02629bf5420bb515fb6c95633b7b164">More...</a><br /></td></tr>
<tr class="separator:ad02629bf5420bb515fb6c95633b7b164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab66834fcf9a98403ae027f888cacd25d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#ab66834fcf9a98403ae027f888cacd25d">cwk_path_get_extension</a> (const char *path, const char **extension, size_t *length)</td></tr>
<tr class="memdesc:ab66834fcf9a98403ae027f888cacd25d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the extension of a file path.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#ab66834fcf9a98403ae027f888cacd25d">More...</a><br /></td></tr>
<tr class="separator:ab66834fcf9a98403ae027f888cacd25d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa917d03c0659fdefe8575493295e18d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#aa917d03c0659fdefe8575493295e18d1">cwk_path_has_extension</a> (const char *path)</td></tr>
<tr class="memdesc:aa917d03c0659fdefe8575493295e18d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the file path has an extension.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#aa917d03c0659fdefe8575493295e18d1">More...</a><br /></td></tr>
<tr class="separator:aa917d03c0659fdefe8575493295e18d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7343e7b15f517d9cfdfa0d6e4e1160"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#aac7343e7b15f517d9cfdfa0d6e4e1160">cwk_path_change_extension</a> (const char *path, const char *new_extension, char *buffer, size_t buffer_size)</td></tr>
<tr class="memdesc:aac7343e7b15f517d9cfdfa0d6e4e1160"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the extension of a file path.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#aac7343e7b15f517d9cfdfa0d6e4e1160">More...</a><br /></td></tr>
<tr class="separator:aac7343e7b15f517d9cfdfa0d6e4e1160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a670897583339fbff8befc11da880018c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a670897583339fbff8befc11da880018c">cwk_path_normalize</a> (const char *path, char *buffer, size_t buffer_size)</td></tr>
<tr class="memdesc:a670897583339fbff8befc11da880018c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a normalized version of the path.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a670897583339fbff8befc11da880018c">More...</a><br /></td></tr>
<tr class="separator:a670897583339fbff8befc11da880018c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab38ede3863e727db5611ce9d23d2e990"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#ab38ede3863e727db5611ce9d23d2e990">cwk_path_get_intersection</a> (const char *path_base, const char *path_other)</td></tr>
<tr class="memdesc:ab38ede3863e727db5611ce9d23d2e990"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds common portions in two paths.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#ab38ede3863e727db5611ce9d23d2e990">More...</a><br /></td></tr>
<tr class="separator:ab38ede3863e727db5611ce9d23d2e990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e64700e1df97572fb7df1f6ce3a1f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a97e64700e1df97572fb7df1f6ce3a1f3">cwk_path_get_first_segment</a> (const char *path, struct <a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> *segment)</td></tr>
<tr class="memdesc:a97e64700e1df97572fb7df1f6ce3a1f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the first segment of a path.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a97e64700e1df97572fb7df1f6ce3a1f3">More...</a><br /></td></tr>
<tr class="separator:a97e64700e1df97572fb7df1f6ce3a1f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d95a40e07cd4bc3e3af28ae366259b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#ac2d95a40e07cd4bc3e3af28ae366259b">cwk_path_get_last_segment</a> (const char *path, struct <a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> *segment)</td></tr>
<tr class="memdesc:ac2d95a40e07cd4bc3e3af28ae366259b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the last segment of the path.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#ac2d95a40e07cd4bc3e3af28ae366259b">More...</a><br /></td></tr>
<tr class="separator:ac2d95a40e07cd4bc3e3af28ae366259b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d7659aaa8b1a7f8e9c1097e7b4dc912"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a5d7659aaa8b1a7f8e9c1097e7b4dc912">cwk_path_get_next_segment</a> (struct <a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> *segment)</td></tr>
<tr class="memdesc:a5d7659aaa8b1a7f8e9c1097e7b4dc912"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advances to the next segment.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a5d7659aaa8b1a7f8e9c1097e7b4dc912">More...</a><br /></td></tr>
<tr class="separator:a5d7659aaa8b1a7f8e9c1097e7b4dc912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62cfd570a00de9811417dc8b32bd1465"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a62cfd570a00de9811417dc8b32bd1465">cwk_path_get_previous_segment</a> (struct <a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> *segment)</td></tr>
<tr class="memdesc:a62cfd570a00de9811417dc8b32bd1465"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves to the previous segment.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a62cfd570a00de9811417dc8b32bd1465">More...</a><br /></td></tr>
<tr class="separator:a62cfd570a00de9811417dc8b32bd1465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5779262b292913597c5d5ab2c055b9e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> enum <a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66c">cwk_segment_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a5779262b292913597c5d5ab2c055b9e7">cwk_path_get_segment_type</a> (const struct <a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> *segment)</td></tr>
<tr class="memdesc:a5779262b292913597c5d5ab2c055b9e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the type of the submitted path segment.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a5779262b292913597c5d5ab2c055b9e7">More...</a><br /></td></tr>
<tr class="separator:a5779262b292913597c5d5ab2c055b9e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38033b645a7a0fa1c43921a64af51acd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a38033b645a7a0fa1c43921a64af51acd">cwk_path_change_segment</a> (struct <a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> *segment, const char *value, char *buffer, size_t buffer_size)</td></tr>
<tr class="memdesc:a38033b645a7a0fa1c43921a64af51acd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the content of a segment.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a38033b645a7a0fa1c43921a64af51acd">More...</a><br /></td></tr>
<tr class="separator:a38033b645a7a0fa1c43921a64af51acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2703a5d58bd1fd5aea8302c413660a27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a2703a5d58bd1fd5aea8302c413660a27">cwk_path_is_separator</a> (const char *str)</td></tr>
<tr class="memdesc:a2703a5d58bd1fd5aea8302c413660a27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the submitted pointer points to a separator.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a2703a5d58bd1fd5aea8302c413660a27">More...</a><br /></td></tr>
<tr class="separator:a2703a5d58bd1fd5aea8302c413660a27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b4517f492f5d5859f599a963cf1026a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> enum <a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35">cwk_path_style</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a9b4517f492f5d5859f599a963cf1026a">cwk_path_guess_style</a> (const char *path)</td></tr>
<tr class="memdesc:a9b4517f492f5d5859f599a963cf1026a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Guesses the path style.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a9b4517f492f5d5859f599a963cf1026a">More...</a><br /></td></tr>
<tr class="separator:a9b4517f492f5d5859f599a963cf1026a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e75a1f14754498a0079bb11f9ddca9a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a3e75a1f14754498a0079bb11f9ddca9a">cwk_path_set_style</a> (enum <a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35">cwk_path_style</a> style)</td></tr>
<tr class="memdesc:a3e75a1f14754498a0079bb11f9ddca9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures which path style is used.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a3e75a1f14754498a0079bb11f9ddca9a">More...</a><br /></td></tr>
<tr class="separator:a3e75a1f14754498a0079bb11f9ddca9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ba934a4a37f1d5911faa140e4e2c46c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> enum <a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35">cwk_path_style</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a2ba934a4a37f1d5911faa140e4e2c46c">cwk_path_get_style</a> (void)</td></tr>
<tr class="memdesc:a2ba934a4a37f1d5911faa140e4e2c46c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the path style configuration.  <a href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html#a2ba934a4a37f1d5911faa140e4e2c46c">More...</a><br /></td></tr>
<tr class="separator:a2ba934a4a37f1d5911faa140e4e2c46c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="d5/daa/structcwk__segment" id="d5/daa/structcwk__segment"></a>
<h2 class="memtitle"><span class="permalink"><a href="#d5/daa/structcwk__segment">&#9670;&nbsp;</a></span>cwk_segment</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct cwk_segment</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>A segment represents a single component of a path. For instance, on linux a path might look like this "/var/log/", which consists of two segments "var" and "log". </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h_source.html#l00064">64</a> of file <a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h_source.html">cwalk.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="af091380741c08e3a24ecf0b407c70fb2"></a>const char *</td>
<td class="fieldname">
begin</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="ac45c7e4bbd667065ba28819be3034849"></a>const char *</td>
<td class="fieldname">
end</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a10444973b52135654c24e7a5860a33ef"></a>const char *</td>
<td class="fieldname">
path</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a5f8e50048e43b4ded04cef354dafcf31"></a>const char *</td>
<td class="fieldname">
segments</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="afb2c298ee1b44ea23e97b7408d535cc2"></a>size_t</td>
<td class="fieldname">
size</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af5b9d6c5afeb02541963faaa15d24b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5b9d6c5afeb02541963faaa15d24b29">&#9670;&nbsp;</a></span>CWK_EXPORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CWK_EXPORT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h_source.html#l00016">16</a> of file <a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h_source.html">cwalk.h</a>.</p>

</div>
</div>
<a id="aebd784c18b95ed6a15cdbe974749b25d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebd784c18b95ed6a15cdbe974749b25d">&#9670;&nbsp;</a></span>CWK_IMPORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CWK_IMPORT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h_source.html#l00017">17</a> of file <a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h_source.html">cwalk.h</a>.</p>

</div>
</div>
<a id="a418674d8e5d6cf699039c4912786817b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a418674d8e5d6cf699039c4912786817b">&#9670;&nbsp;</a></span>CWK_LIBRARY_H</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CWK_LIBRARY_H</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h_source.html#l00004">4</a> of file <a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h_source.html">cwalk.h</a>.</p>

</div>
</div>
<a id="a1557461a3dd64c516ec9eb8bf08de382"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1557461a3dd64c516ec9eb8bf08de382">&#9670;&nbsp;</a></span>CWK_PUBLIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CWK_PUBLIC</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h_source.html#l00027">27</a> of file <a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h_source.html">cwalk.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="af41b6d6cf436770b89a71c7b0dfb8c35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af41b6d6cf436770b89a71c7b0dfb8c35">&#9670;&nbsp;</a></span>cwk_path_style</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35">cwk_path_style</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines the style which is used for the path parsing and generation. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5"></a>CWK_STYLE_WINDOWS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2"></a>CWK_STYLE_UNIX&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5"></a>CWK_STYLE_WINDOWS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2"></a>CWK_STYLE_UNIX&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5"></a>CWK_STYLE_WINDOWS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2"></a>CWK_STYLE_UNIX&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h_source.html#l00068">68</a> of file <a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h_source.html">cwalk.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5">CWK_STYLE_WINDOWS</a>,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2">CWK_STYLE_UNIX</a></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6108f90d2ae646d1b255bea8be6cd66c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6108f90d2ae646d1b255bea8be6cd66c">&#9670;&nbsp;</a></span>cwk_segment_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66c">cwk_segment_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The segment type can be used to identify whether a segment is a special segment or not.</p>
<p>CWK_NORMAL - normal folder or file segment CWK_CURRENT - "./" current folder segment CWK_BACK - "../" relative back navigation segment </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a6108f90d2ae646d1b255bea8be6cd66cac059231d4bfff9efb6c9ca8500fd1905"></a>CWK_NORMAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6108f90d2ae646d1b255bea8be6cd66ca1f03d98e62d4069cca7110ef82664ff7"></a>CWK_CURRENT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6108f90d2ae646d1b255bea8be6cd66ca7f5cc99da0786d172da65e718652357b"></a>CWK_BACK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6108f90d2ae646d1b255bea8be6cd66cac059231d4bfff9efb6c9ca8500fd1905"></a>CWK_NORMAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6108f90d2ae646d1b255bea8be6cd66ca1f03d98e62d4069cca7110ef82664ff7"></a>CWK_CURRENT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6108f90d2ae646d1b255bea8be6cd66ca7f5cc99da0786d172da65e718652357b"></a>CWK_BACK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6108f90d2ae646d1b255bea8be6cd66cac059231d4bfff9efb6c9ca8500fd1905"></a>CWK_NORMAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6108f90d2ae646d1b255bea8be6cd66ca1f03d98e62d4069cca7110ef82664ff7"></a>CWK_CURRENT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6108f90d2ae646d1b255bea8be6cd66ca7f5cc99da0786d172da65e718652357b"></a>CWK_BACK&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h_source.html#l00057">57</a> of file <a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h_source.html">cwalk.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66cac059231d4bfff9efb6c9ca8500fd1905">CWK_NORMAL</a>,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66ca1f03d98e62d4069cca7110ef82664ff7">CWK_CURRENT</a>,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66ca7f5cc99da0786d172da65e718652357b">CWK_BACK</a></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;};</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a13992aee0f81f3d51e1c793a97fb780a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13992aee0f81f3d51e1c793a97fb780a">&#9670;&nbsp;</a></span>cwk_path_change_basename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t cwk_path_change_basename </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>new_basename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the basename of a file path. </p>
<p>This function changes the basename of a file path. This function will not write out more than the specified buffer can contain. However, the generated string is always null-terminated - even if not the whole path is written out. The function returns the total number of characters the complete buffer would have, even if it was not written out completely. The path may be the same memory address as the buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The original path which will be used for the modified path. </td></tr>
    <tr><td class="paramname">new_basename</td><td>The new basename which will replace the old one. </td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer where the changed path will be written to. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>The size of the result buffer where the changed path is written to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the size which the complete new path would have if it was not truncated. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00966">966</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;{</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> segment;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keywordtype">size_t</span> pos, root_size, new_basename_size;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="comment">// First we try to get the last segment. We may only have a root without any</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="comment">// segments, in which case we will create one.</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a2268310f7bba59fe263365ab73b74c83">cwk_path_get_last_segment</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, &amp;segment)) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160; </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="comment">// So there is no segment in this path. First we grab the root and output</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="comment">// that. We are not going to modify the root in any way.</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ab85b1ed4f5b36fd22d1e0f0d65be03a1">cwk_path_get_root</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, &amp;root_size);</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    pos = <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ae44a699be828ffe58b636e8c6ab13dc0">cwk_path_output_sized</a>(buffer, buffer_size, 0, <a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, root_size);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160; </div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="comment">// We have to trim the separators from the beginning of the new basename.</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="comment">// This is quite easy to do.</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#abe0da5227916fc94608ab66a92daf59f">cwk_path_is_separator</a>(new_basename)) {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      ++new_basename;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="comment">// Now we measure the length of the new basename, this is a two step</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="comment">// process. First we find the &#39;\0&#39; character at the end of the string.</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    new_basename_size = 0;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">while</span> (new_basename[new_basename_size]) {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      ++new_basename_size;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="comment">// And then we trim the separators at the end of the basename until we reach</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="comment">// the first valid character.</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="keywordflow">while</span> (new_basename_size &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;           <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#abe0da5227916fc94608ab66a92daf59f">cwk_path_is_separator</a>(&amp;new_basename[new_basename_size - 1])) {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      --new_basename_size;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    }</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160; </div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="comment">// Now we will output the new basename after the root.</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    pos += <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ae44a699be828ffe58b636e8c6ab13dc0">cwk_path_output_sized</a>(buffer, buffer_size, pos, new_basename,</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      new_basename_size);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="comment">// And finally terminate the output and return the total size of the path.</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa5d775df33238d8c1dc6c24d577bcfd9">cwk_path_terminate_output</a>(buffer, buffer_size, pos);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">return</span> pos;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="comment">// If there is a last segment we can just forward this call, which is fairly</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="comment">// easy.</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#acdc8c69218f67780f4b8e167a41e1995">cwk_path_change_segment</a>(&amp;segment, new_basename, buffer, buffer_size);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aac7343e7b15f517d9cfdfa0d6e4e1160"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7343e7b15f517d9cfdfa0d6e4e1160">&#9670;&nbsp;</a></span>cwk_path_change_extension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t cwk_path_change_extension </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>new_extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the extension of a file path. </p>
<p>This function changes the extension of a file name. The function will append an extension if the basename does not have an extension, or use the extension as a basename if the path does not have a basename. This function will not write out more than the specified buffer can contain. However, the generated string is always null-terminated - even if not the whole path is written out. The function returns the total number of characters the complete buffer would have, even if it was not written out completely. The path may be the same memory address as the buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path which will be used to make the change. </td></tr>
    <tr><td class="paramname">new_extension</td><td>The extension which will be placed within the new path. </td></tr>
    <tr><td class="paramname">buffer</td><td>The output buffer where the result will be written to. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>The size of the output buffer where the result will be written to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the total size which the output would have if it was not truncated. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01069">1069</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;{</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> segment;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *c, *old_extension;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordtype">size_t</span> pos, root_size, trail_size, new_extension_size;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="comment">// First we try to get the last segment. We may only have a root without any</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="comment">// segments, in which case we will create one.</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a2268310f7bba59fe263365ab73b74c83">cwk_path_get_last_segment</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, &amp;segment)) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="comment">// So there is no segment in this path. First we grab the root and output</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="comment">// that. We are not going to modify the root in any way. If there is no</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="comment">// root, this will end up with a root size 0, and nothing will be written.</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ab85b1ed4f5b36fd22d1e0f0d65be03a1">cwk_path_get_root</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, &amp;root_size);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    pos = <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ae44a699be828ffe58b636e8c6ab13dc0">cwk_path_output_sized</a>(buffer, buffer_size, 0, <a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, root_size);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="comment">// Add a dot if the submitted value doesn&#39;t have any.</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">if</span> (*new_extension != <span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      pos += <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a3092b83cdcf9746b82022873267c9679">cwk_path_output_dot</a>(buffer, buffer_size, pos);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="comment">// And finally terminate the output and return the total size of the path.</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    pos += <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa69c39acc427954362db13d3f4a726a9">cwk_path_output</a>(buffer, buffer_size, pos, new_extension);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa5d775df33238d8c1dc6c24d577bcfd9">cwk_path_terminate_output</a>(buffer, buffer_size, pos);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">return</span> pos;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  }</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160; </div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="comment">// Now we seek the old extension in the last segment, which we will replace</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="comment">// with the new one. If there is no old extension, it will point to the end of</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="comment">// the segment.</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  old_extension = segment.end;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="keywordflow">for</span> (c = segment.begin; c &lt; segment.end; ++c) {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">if</span> (*c == <span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      old_extension = c;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    }</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  pos = <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ae44a699be828ffe58b636e8c6ab13dc0">cwk_path_output_sized</a>(buffer, buffer_size, 0, segment.path,</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    (<span class="keywordtype">size_t</span>)(old_extension - segment.path));</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="comment">// If the new extension starts with a dot, we will skip that dot. We always</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="comment">// output exactly one dot before the extension. If the extension contains</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="comment">// multiple dots, we will output those as part of the extension.</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="keywordflow">if</span> (*new_extension == <span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    ++new_extension;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <span class="comment">// We calculate the size of the new extension, including the dot, in order to</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="comment">// output the trail - which is any part of the path coming after the</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="comment">// extension. We must output this first, since the buffer may overlap with the</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="comment">// submitted path - and it would be overridden by longer extensions.</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  new_extension_size = <a class="code" href="../../d1/d69/kernel_2include_2string_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(new_extension) + 1;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  trail_size = <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa69c39acc427954362db13d3f4a726a9">cwk_path_output</a>(buffer, buffer_size, pos + new_extension_size,</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    segment.end);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="comment">// Finally we output the dot and the new extension. The new extension itself</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="comment">// doesn&#39;t contain the dot anymore, so we must output that first.</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  pos += <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a3092b83cdcf9746b82022873267c9679">cwk_path_output_dot</a>(buffer, buffer_size, pos);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  pos += <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa69c39acc427954362db13d3f4a726a9">cwk_path_output</a>(buffer, buffer_size, pos, new_extension);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="comment">// Now we terminate the output with a null-terminating character, but before</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="comment">// we do that we must add the size of the trail to the position which we</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="comment">// output before.</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  pos += trail_size;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa5d775df33238d8c1dc6c24d577bcfd9">cwk_path_terminate_output</a>(buffer, buffer_size, pos);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="comment">// And the position is our output size now.</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keywordflow">return</span> pos;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e8d1717f2dcf7dbfe8a54a03be22b58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e8d1717f2dcf7dbfe8a54a03be22b58">&#9670;&nbsp;</a></span>cwk_path_change_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t cwk_path_change_root </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>new_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the root of a path. </p>
<p>This function changes the root of a path. It does not normalize the result. The result will be written to a buffer, which might be truncated if the buffer is not large enough to hold the full path. However, the truncated result will always be null-terminated. The returned value is the amount of characters which the resulting path would take if it was not truncated (excluding the null-terminating character).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The original path which will get a new root. </td></tr>
    <tr><td class="paramname">new_root</td><td>The new root which will be placed in the path. </td></tr>
    <tr><td class="paramname">buffer</td><td>The output buffer where the result is written to. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>The size of the output buffer where the result is written to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the total amount of characters of the new path. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00889">889</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;{</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *tail;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keywordtype">size_t</span> root_length, path_length, tail_length, new_root_length, new_path_size;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="comment">// First we need to determine the actual size of the root which we will</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="comment">// change.</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ab85b1ed4f5b36fd22d1e0f0d65be03a1">cwk_path_get_root</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, &amp;root_length);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="comment">// Now we determine the sizes of the new root and the path. We need that to</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="comment">// determine the size of the part after the root (the tail).</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  new_root_length = <a class="code" href="../../d1/d69/kernel_2include_2string_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(new_root);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  path_length = <a class="code" href="../../d1/d69/kernel_2include_2string_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="comment">// Okay, now we calculate the position of the tail and the length of it.</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  tail = <a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a> + root_length;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  tail_length = path_length - root_length;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160; </div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="comment">// We first output the tail and then the new root, that&#39;s because the source</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="comment">// path and the buffer may be overlapping. This way the root will not</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="comment">// overwrite the tail.</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ae44a699be828ffe58b636e8c6ab13dc0">cwk_path_output_sized</a>(buffer, buffer_size, new_root_length, tail,</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    tail_length);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ae44a699be828ffe58b636e8c6ab13dc0">cwk_path_output_sized</a>(buffer, buffer_size, 0, new_root, new_root_length);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="comment">// Finally we calculate the size o the new path and terminate the output with</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="comment">// a &#39;\0&#39;.</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  new_path_size = tail_length + new_root_length;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa5d775df33238d8c1dc6c24d577bcfd9">cwk_path_terminate_output</a>(buffer, buffer_size, new_path_size);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160; </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="keywordflow">return</span> new_path_size;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a38033b645a7a0fa1c43921a64af51acd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38033b645a7a0fa1c43921a64af51acd">&#9670;&nbsp;</a></span>cwk_path_change_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t cwk_path_change_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> *&#160;</td>
          <td class="paramname"><em>segment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the content of a segment. </p>
<p>This function overrides the content of a segment to the submitted value and outputs the whole new path to the submitted buffer. The result might require less or more space than before if the new value length differs from the original length. The output is truncated if the new path is larger than the submitted buffer size, but it is always null-terminated. The source of the segment and the submitted buffer may be the same.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">segment</td><td>The segment which will be modifier. </td></tr>
    <tr><td class="paramname">value</td><td>The new content of the segment. </td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer where the modified path will be written to. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>The size of the output buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the total size which would have been written if the output was not truncated. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01355">1355</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;{</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="keywordtype">size_t</span> pos, value_size, tail_size;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="comment">// First we have to output the head, which is the whole string up to the</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="comment">// beginning of the segment. This part of the path will just stay the same.</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  pos = <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ae44a699be828ffe58b636e8c6ab13dc0">cwk_path_output_sized</a>(buffer, buffer_size, 0, segment-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>,</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    (<span class="keywordtype">size_t</span>)(segment-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#af091380741c08e3a24ecf0b407c70fb2">begin</a> - segment-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>));</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160; </div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="comment">// In order to trip the submitted value, we will skip any separator at the</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <span class="comment">// beginning of it and behave as if it was never there.</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#abe0da5227916fc94608ab66a92daf59f">cwk_path_is_separator</a>(value)) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    ++value;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="comment">// Now we determine the length of the value. In order to do that we first</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="comment">// locate the &#39;\0&#39;.</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  value_size = 0;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <span class="keywordflow">while</span> (value[value_size]) {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    ++value_size;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  }</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="comment">// Since we trim separators at the beginning and in the end of the value we</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <span class="comment">// have to subtract from the size until there are either no more characters</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="comment">// left or the last character is no separator.</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <span class="keywordflow">while</span> (value_size &gt; 0 &amp;&amp; <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#abe0da5227916fc94608ab66a92daf59f">cwk_path_is_separator</a>(&amp;value[value_size - 1])) {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    --value_size;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  }</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <span class="comment">// We also have to determine the tail size, which is the part of the string</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  <span class="comment">// following the current segment. This part will not change.</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  tail_size = <a class="code" href="../../d1/d69/kernel_2include_2string_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a>(segment-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#ac45c7e4bbd667065ba28819be3034849">end</a>);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <span class="comment">// Now we output the tail. We have to do that, because if the buffer and the</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <span class="comment">// source are overlapping we would override the tail if the value is</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <span class="comment">// increasing in length.</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ae44a699be828ffe58b636e8c6ab13dc0">cwk_path_output_sized</a>(buffer, buffer_size, pos + value_size, segment-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#ac45c7e4bbd667065ba28819be3034849">end</a>,</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    tail_size);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160; </div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="comment">// Finally we can output the value in the middle of the head and the tail,</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  <span class="comment">// where we have enough space to fit the whole trimmed value.</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  pos += <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ae44a699be828ffe58b636e8c6ab13dc0">cwk_path_output_sized</a>(buffer, buffer_size, pos, value, value_size);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160; </div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="comment">// Now we add the tail size to the current position and terminate the output -</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="comment">// basically, ensure that there is a &#39;\0&#39; at the end of the buffer.</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  pos += tail_size;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa5d775df33238d8c1dc6c24d577bcfd9">cwk_path_terminate_output</a>(buffer, buffer_size, pos);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  <span class="comment">// And now tell the caller how long the whole path would be.</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="keywordflow">return</span> pos;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e6b3622394c68a0286085b8907cf5b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e6b3622394c68a0286085b8907cf5b2">&#9670;&nbsp;</a></span>cwk_path_get_absolute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t cwk_path_get_absolute </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates an absolute path based on a base. </p>
<p>This function generates an absolute path based on a base path and another path. It is guaranteed to return an absolute path. If the second submitted path is absolute, it will override the base path. The result will be written to a buffer, which might be truncated if the buffer is not large enough to hold the full path. However, the truncated result will always be null-terminated. The returned value is the amount of characters which the resulting path would take if it was not truncated (excluding the null-terminating character).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>The absolute base path on which the relative path will be applied. </td></tr>
    <tr><td class="paramname">path</td><td>The relative path which will be applied on the base path. </td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer where the result will be written to. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>The size of the result buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the total amount of characters of the new absolute path. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00675">675</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;{</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *paths[4];</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="comment">// The basename should be an absolute path if the caller is using the API</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="comment">// correctly. However, he might not and in that case we will append a fake</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="comment">// root at the beginning.</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a805349f9c4f2783187e34a236cedb9b6">cwk_path_is_absolute</a>(base)) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    i = 0;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aeef7cc01e8dfcb89adcb6f31ac8139e8">path_style</a> == <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5">CWK_STYLE_WINDOWS</a>) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    paths[0] = <span class="stringliteral">&quot;\\&quot;</span>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    i = 1;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    paths[0] = <span class="stringliteral">&quot;/&quot;</span>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    i = 1;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a805349f9c4f2783187e34a236cedb9b6">cwk_path_is_absolute</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>)) {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="comment">// If the submitted path is not relative the base path becomes irrelevant.</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="comment">// We will only normalize the submitted path instead.</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    paths[i++] = <a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    paths[i] = NULL;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="comment">// Otherwise we append the relative path to the base path and normalize it.</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">// The result will be a new absolute path.</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    paths[i++] = base;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    paths[i++] = <a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    paths[i] = NULL;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="comment">// Finally join everything together and normalize it.</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ac88ffacd0f2aa502b9f67c6d5acc9b65">cwk_path_join_and_normalize_multiple</a>(paths, buffer, buffer_size);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa5e93482b11e37af62bb9f605c8866a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5e93482b11e37af62bb9f605c8866a0">&#9670;&nbsp;</a></span>cwk_path_get_basename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> void cwk_path_get_basename </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>basename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the basename of a file path. </p>
<p>This function gets the basename of a file path. A pointer to the beginning of the basename will be returned through the basename parameter. This pointer will be positioned on the first letter after the separator. The length of the file path will be returned through the length parameter. The length will be set to zero and the basename to NULL if there is no basename available.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path which will be inspected. </td></tr>
    <tr><td class="paramname">basename</td><td>The output of the basename pointer. </td></tr>
    <tr><td class="paramname">length</td><td>The output of the length of the basename. This may be null if not required. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00941">941</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;{</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> segment;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="comment">// We get the last segment of the path. The last segment will contain the</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="comment">// basename if there is any. If there are no segments we will set the basename</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="comment">// to NULL and the length to 0.</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a2268310f7bba59fe263365ab73b74c83">cwk_path_get_last_segment</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, &amp;segment)) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    *basename = NULL;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">if</span> (length) {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      *length = 0;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    }</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="comment">// Now we can just output the segment contents, since that&#39;s our basename.</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="comment">// There might be trailing separators after the basename, but the size does</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="comment">// not include those.</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  *basename = segment.<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#af091380741c08e3a24ecf0b407c70fb2">begin</a>;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="keywordflow">if</span> (length) {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    *length = segment.size;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad02629bf5420bb515fb6c95633b7b164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad02629bf5420bb515fb6c95633b7b164">&#9670;&nbsp;</a></span>cwk_path_get_dirname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> void cwk_path_get_dirname </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the dirname of a file path. </p>
<p>This function determines the dirname of a file path and returns the length up to which character is considered to be part of it. If no dirname is found, the length will be set to zero. The beginning of the dirname is always equal to the submitted path pointer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path which will be inspected. </td></tr>
    <tr><td class="paramname">length</td><td>The length of the dirname. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01015">1015</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;{</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> segment;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; </div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="comment">// We get the last segment of the path. The last segment will contain the</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="comment">// basename if there is any. If there are no segments we will set the length</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="comment">// to 0.</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a2268310f7bba59fe263365ab73b74c83">cwk_path_get_last_segment</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, &amp;segment)) {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    *length = 0;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  }</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="comment">// We can now return the length from the beginning of the string up to the</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <span class="comment">// beginning of the last segment.</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  *length = (size_t)(segment.begin - <a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab66834fcf9a98403ae027f888cacd25d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab66834fcf9a98403ae027f888cacd25d">&#9670;&nbsp;</a></span>cwk_path_get_extension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool cwk_path_get_extension </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the extension of a file path. </p>
<p>This function extracts the extension portion of a file path. A pointer to the beginning of the extension will be returned through the extension parameter if an extension is found and true is returned. This pointer will be positioned on the dot. The length of the extension name will be returned through the length parameter. If no extension is found both parameters won't be touched and false will be returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path which will be inspected. </td></tr>
    <tr><td class="paramname">extension</td><td>The output of the extension pointer. </td></tr>
    <tr><td class="paramname">length</td><td>The output of the length of the extension. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if an extension is found or false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01032">1032</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;{</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> segment;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *c;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="comment">// We get the last segment of the path. The last segment will contain the</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="comment">// extension if there is any.</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a2268310f7bba59fe263365ab73b74c83">cwk_path_get_last_segment</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, &amp;segment)) {</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  }</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="comment">// Now we search for a dot within the segment. If there is a dot, we consider</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="comment">// the rest of the segment the extension. We do this from the end towards the</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <span class="comment">// beginning, since we want to find the last dot.</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keywordflow">for</span> (c = segment.end; c &gt;= segment.begin; --c) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">if</span> (*c == <span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      <span class="comment">// Okay, we found an extension. We can stop looking now.</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      *extension = c;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      *length = (size_t)(segment.end - c);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="comment">// We couldn&#39;t find any extension.</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a97e64700e1df97572fb7df1f6ce3a1f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97e64700e1df97572fb7df1f6ce3a1f3">&#9670;&nbsp;</a></span>cwk_path_get_first_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool cwk_path_get_first_segment </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> *&#160;</td>
          <td class="paramname"><em>segment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the first segment of a path. </p>
<p>This function finds the first segment of a path. The position of the segment is set to the first character after the separator, and the length counts all characters until the next separator (excluding the separator).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path which will be inspected. </td></tr>
    <tr><td class="paramname">segment</td><td>The segment which will be extracted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if there is a segment or false if there is none. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01221">1221</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;{</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="keywordtype">size_t</span> length;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a5f8e50048e43b4ded04cef354dafcf31">segments</a>;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160; </div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="comment">// We skip the root since that&#39;s not part of the first segment. The root is</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="comment">// treated as a separate entity.</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ab85b1ed4f5b36fd22d1e0f0d65be03a1">cwk_path_get_root</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, &amp;length);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a5f8e50048e43b4ded04cef354dafcf31">segments</a> = <a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a> + length;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="comment">// Now, after we skipped the root we can continue and find the actual segment</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="comment">// content.</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa1280f7545ff0215f95b65f7ac60155f">cwk_path_get_first_segment_without_root</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, <a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a5f8e50048e43b4ded04cef354dafcf31">segments</a>, segment);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab38ede3863e727db5611ce9d23d2e990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab38ede3863e727db5611ce9d23d2e990">&#9670;&nbsp;</a></span>cwk_path_get_intersection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t cwk_path_get_intersection </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path_other</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds common portions in two paths. </p>
<p>This function finds common portions in two paths and returns the number characters from the beginning of the base path which are equal to the other path.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path_base</td><td>The base path which will be compared with the other path. </td></tr>
    <tr><td class="paramname">path_other</td><td>The other path which will compared with the base path. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of characters which are common in the base path. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01152">1152</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;{</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <span class="keywordtype">bool</span> absolute;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="keywordtype">size_t</span> base_root_length, other_root_length;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#ac45c7e4bbd667065ba28819be3034849">end</a>;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *paths_base[2], *paths_other[2];</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#d7/d07/structcwk__segment__joined">cwk_segment_joined</a> base, other;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="comment">// We first compare the two roots. We just return zero if they are not equal.</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="comment">// This will also happen to return zero if the paths are mixed relative and</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="comment">// absolute.</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ab85b1ed4f5b36fd22d1e0f0d65be03a1">cwk_path_get_root</a>(path_base, &amp;base_root_length);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ab85b1ed4f5b36fd22d1e0f0d65be03a1">cwk_path_get_root</a>(path_other, &amp;other_root_length);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a94681354e2648fec4ce13153a78339b3">cwk_path_is_string_equal</a>(path_base, path_other, base_root_length,</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        other_root_length)) {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  }</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">// Configure our paths. We just have a single path in here for now.</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  paths_base[0] = path_base;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  paths_base[1] = NULL;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  paths_other[0] = path_other;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  paths_other[1] = NULL;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="comment">// So we get the first segment of both paths. If one of those paths don&#39;t have</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="comment">// any segment, we will return 0.</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a1a43318c3244e8b93d3c686c35821e09">cwk_path_get_first_segment_joined</a>(paths_base, &amp;base) ||</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      !<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a1a43318c3244e8b93d3c686c35821e09">cwk_path_get_first_segment_joined</a>(paths_other, &amp;other)) {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordflow">return</span> base_root_length;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160; </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="comment">// We now determine whether the path is absolute or not. This is required</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="comment">// because if will ignore removed segments, and this behaves differently if</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="comment">// the path is absolute. However, we only need to check the base path because</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="comment">// we are guaranteed that both paths are either relative or absolute.</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  absolute = <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a7031ed4abfd806cc68acd9ace2d23120">cwk_path_is_root_absolute</a>(path_base, base_root_length);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160; </div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="comment">// We must keep track of the end of the previous segment. Initially, this is</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="comment">// set to the beginning of the path. This means that 0 is returned if the</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="comment">// first segment is not equal.</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  end = path_base + base_root_length;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160; </div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="comment">// Now we loop over both segments until one of them reaches the end or their</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <span class="comment">// contents are not equal.</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="comment">// We skip all segments which will be removed in each path, since we want to</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="comment">// know about the true path.</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a642ae7f0b4af0374c203cbebb03a1ff1">cwk_path_segment_joined_skip_invisible</a>(&amp;base, absolute) ||</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        !<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a642ae7f0b4af0374c203cbebb03a1ff1">cwk_path_segment_joined_skip_invisible</a>(&amp;other, absolute)) {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a94681354e2648fec4ce13153a78339b3">cwk_path_is_string_equal</a>(base.segment.begin, other.segment.begin,</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;          base.segment.size, other.segment.size)) {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      <span class="comment">// So the content of those two segments are not equal. We will return the</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <span class="comment">// size up to the beginning.</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <span class="keywordflow">return</span> (<span class="keywordtype">size_t</span>)(end - path_base);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    }</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="comment">// Remember the end of the previous segment before we go to the next one.</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    end = base.segment.end;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  } <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a2ba74980728c6b7c0757fe4ed6491071">cwk_path_get_next_segment_joined</a>(&amp;base) &amp;&amp;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;           <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a2ba74980728c6b7c0757fe4ed6491071">cwk_path_get_next_segment_joined</a>(&amp;other));</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <span class="comment">// Now we calculate the length up to the last point where our paths pointed to</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="comment">// the same place.</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <span class="keywordflow">return</span> (<span class="keywordtype">size_t</span>)(end - path_base);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac2d95a40e07cd4bc3e3af28ae366259b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2d95a40e07cd4bc3e3af28ae366259b">&#9670;&nbsp;</a></span>cwk_path_get_last_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool cwk_path_get_last_segment </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> *&#160;</td>
          <td class="paramname"><em>segment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the last segment of the path. </p>
<p>This function gets the last segment of a path. This function may return false if the path doesn't contain any segments, in which case the submitted segment parameter is not modified. The position of the segment is set to the first character after the separator, and the length counts all characters until the end of the path (excluding the separator).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path which will be inspected. </td></tr>
    <tr><td class="paramname">segment</td><td>The segment which will be extracted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if there is a segment or false if there is none. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01236">1236</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;{</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="comment">// We first grab the first segment. This might be our last segment as well,</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="comment">// but we don&#39;t know yet. There is no last segment if there is no first</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="comment">// segment, so we return false in that case.</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ad7f13a9126b2159c07b031a496d654fe">cwk_path_get_first_segment</a>(path, <a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>)) {</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  }</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="comment">// Now we find our last segment. The segment struct of the caller</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="comment">// will contain the last segment, since the function we call here will not</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="comment">// change the segment struct when it reaches the end.</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#acfd833c41dae993e90dba669564a63f4">cwk_path_get_next_segment</a>(<a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>)) {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="comment">// We just loop until there is no other segment left.</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  }</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d7659aaa8b1a7f8e9c1097e7b4dc912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d7659aaa8b1a7f8e9c1097e7b4dc912">&#9670;&nbsp;</a></span>cwk_path_get_next_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool cwk_path_get_next_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> *&#160;</td>
          <td class="paramname"><em>segment</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Advances to the next segment. </p>
<p>This function advances the current segment to the next segment. If there are no more segments left, the submitted segment structure will stay unchanged and false is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">segment</td><td>The current segment which will be advanced to the next one. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if another segment was found or false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01255">1255</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;{</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *c;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <span class="comment">// First we jump to the end of the previous segment. The first character must</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <span class="comment">// be either a &#39;\0&#39; or a separator.</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  c = <a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#af091380741c08e3a24ecf0b407c70fb2">begin</a> + <a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#afb2c298ee1b44ea23e97b7408d535cc2">size</a>;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <span class="keywordflow">if</span> (*c == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  }</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160; </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="comment">// Now we skip all separator until we reach something else. We are not yet</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="comment">// guaranteed to have a segment, since the string could just end afterwards.</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <a class="code" href="../../dc/da7/assert_8h.html#af576bf8ffa22a44e53018c67095ffbf0">assert</a>(<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#abe0da5227916fc94608ab66a92daf59f">cwk_path_is_separator</a>(c));</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    ++c;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  } <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#abe0da5227916fc94608ab66a92daf59f">cwk_path_is_separator</a>(c));</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="comment">// If the string ends here, we can safely assume that there is no other</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="comment">// segment after this one.</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="keywordflow">if</span> (*c == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  }</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="comment">// Now we are safe to assume there is a segment. We store the beginning of</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="comment">// this segment in the segment struct of the caller.</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#af091380741c08e3a24ecf0b407c70fb2">begin</a> = c;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="comment">// And now determine the size of this segment, and store it in the struct of</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="comment">// the caller as well.</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  c = <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a67a63e3978a34a02d116cff7d06c4c73">cwk_path_find_next_stop</a>(c);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#ac45c7e4bbd667065ba28819be3034849">end</a> = c;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#afb2c298ee1b44ea23e97b7408d535cc2">size</a> = (size_t)(c - <a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#af091380741c08e3a24ecf0b407c70fb2">begin</a>);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160; </div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="comment">// Tell the caller that we found a segment.</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a62cfd570a00de9811417dc8b32bd1465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62cfd570a00de9811417dc8b32bd1465">&#9670;&nbsp;</a></span>cwk_path_get_previous_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool cwk_path_get_previous_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> *&#160;</td>
          <td class="paramname"><em>segment</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves to the previous segment. </p>
<p>This function moves the current segment to the previous segment. If the current segment is the first one, the submitted segment structure will stay unchanged and false is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">segment</td><td>The current segment which will be moved to the previous one. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if there is a segment before this one or false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01293">1293</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;{</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *c;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160; </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="comment">// The current position might point to the first character of the path, which</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="comment">// means there are no previous segments available.</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  c = <a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#af091380741c08e3a24ecf0b407c70fb2">begin</a>;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="keywordflow">if</span> (c &lt;= segment-&gt;segments) {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <span class="comment">// We move towards the beginning of the path until we either reached the</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="comment">// beginning or the character is no separator anymore.</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    --c;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordflow">if</span> (c &lt; segment-&gt;segments) {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      <span class="comment">// So we reached the beginning here and there is no segment. So we return</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <span class="comment">// false and don&#39;t change the segment structure submitted by the caller.</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    }</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  } <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#abe0da5227916fc94608ab66a92daf59f">cwk_path_is_separator</a>(c));</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="comment">// We are guaranteed now that there is another segment, since we moved before</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="comment">// the previous separator and did not reach the segment path beginning.</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#ac45c7e4bbd667065ba28819be3034849">end</a> = c + 1;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#af091380741c08e3a24ecf0b407c70fb2">begin</a> = <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#afaa21620b71c743a0e59b9f1138bcb7e">cwk_path_find_previous_stop</a>(<a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a5f8e50048e43b4ded04cef354dafcf31">segments</a>, c);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#afb2c298ee1b44ea23e97b7408d535cc2">size</a> = (size_t)(<a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#ac45c7e4bbd667065ba28819be3034849">end</a> - <a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#af091380741c08e3a24ecf0b407c70fb2">begin</a>);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160; </div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a383836841603aad4712029e5f42de6bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a383836841603aad4712029e5f42de6bb">&#9670;&nbsp;</a></span>cwk_path_get_relative()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t cwk_path_get_relative </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>base_directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a relative path based on a base. </p>
<p>This function generates a relative path based on a base path and another path. It determines how to get to the submitted path, starting from the base directory. The result will be written to a buffer, which might be truncated if the buffer is not large enough to hold the full path. However, the truncated result will always be null-terminated. The returned value is the amount of characters which the resulting path would take if it was not truncated (excluding the null-terminating character).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base_directory</td><td>The base path from which the relative path will start. </td></tr>
    <tr><td class="paramname">path</td><td>The target path where the relative path will point to. </td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer where the result will be written to. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>The size of the result buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the total amount of characters of the full path. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00747">747</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;{</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keywordtype">size_t</span> pos, base_root_length, path_root_length;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordtype">bool</span> absolute, base_available, other_available, has_output;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *base_paths[2], *other_paths[2];</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#d7/d07/structcwk__segment__joined">cwk_segment_joined</a> bsj, osj;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  pos = 0;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="comment">// First we compare the roots of those two paths. If the roots are not equal</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="comment">// we can&#39;t continue, since there is no way to get a relative path from</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="comment">// different roots.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ab85b1ed4f5b36fd22d1e0f0d65be03a1">cwk_path_get_root</a>(base_directory, &amp;base_root_length);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ab85b1ed4f5b36fd22d1e0f0d65be03a1">cwk_path_get_root</a>(path, &amp;path_root_length);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="keywordflow">if</span> (base_root_length != path_root_length ||</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      !<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a94681354e2648fec4ce13153a78339b3">cwk_path_is_string_equal</a>(base_directory, path, base_root_length,</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        path_root_length)) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa5d775df33238d8c1dc6c24d577bcfd9">cwk_path_terminate_output</a>(buffer, buffer_size, pos);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">return</span> pos;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="comment">// Verify whether this is an absolute path. We need to know that since we can</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="comment">// remove all back-segments if it is.</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  absolute = <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a7031ed4abfd806cc68acd9ace2d23120">cwk_path_is_root_absolute</a>(base_directory, base_root_length);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="comment">// Initialize our joined segments. This will allow us to use the internal</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="comment">// functions to skip until diverge and invisible. We only have one path in</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="comment">// them though.</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  base_paths[0] = base_directory;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  base_paths[1] = NULL;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  other_paths[0] = path;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  other_paths[1] = NULL;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a1a43318c3244e8b93d3c686c35821e09">cwk_path_get_first_segment_joined</a>(base_paths, &amp;bsj);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a1a43318c3244e8b93d3c686c35821e09">cwk_path_get_first_segment_joined</a>(other_paths, &amp;osj);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  <span class="comment">// Okay, now we skip until the segments diverge. We don&#39;t have anything to do</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="comment">// with the segments which are equal.</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a0af52b6862a6bd25e8678ab004ebf841">cwk_path_skip_segments_until_diverge</a>(&amp;bsj, &amp;osj, absolute, &amp;base_available,</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    &amp;other_available);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="comment">// Assume there is no output until we have got some. We will need this</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="comment">// information later on to remove trailing slashes or alternatively output a</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="comment">// current-segment.</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  has_output = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="comment">// So if we still have some segments left in the base path we will now output</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="comment">// a back segment for all of them.</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="keywordflow">if</span> (base_available) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <span class="comment">// Skip any invisible segment. We don&#39;t care about those and we don&#39;t need</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <span class="comment">// to navigate back because of them.</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a642ae7f0b4af0374c203cbebb03a1ff1">cwk_path_segment_joined_skip_invisible</a>(&amp;bsj, absolute)) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="comment">// Toggle the flag if we have output. We need to remember that, since we</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="comment">// want to remove the trailing slash.</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      has_output = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      <span class="comment">// Output the back segment and a separator. No need to worry about the</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <span class="comment">// superfluous segment since it will be removed later on.</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      pos += <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#add919e716831dc9a27b441389d960305">cwk_path_output_back</a>(buffer, buffer_size, pos);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      pos += <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a6bfc63dd7ba77d04a03cb1dbc2d5524a">cwk_path_output_separator</a>(buffer, buffer_size, pos);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a2ba74980728c6b7c0757fe4ed6491071">cwk_path_get_next_segment_joined</a>(&amp;bsj));</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="comment">// And if we have some segments available of the target path we will output</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="comment">// all of those.</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="keywordflow">if</span> (other_available) {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <span class="comment">// Again, skip any invisible segments since we don&#39;t need to navigate into</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="comment">// them.</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a642ae7f0b4af0374c203cbebb03a1ff1">cwk_path_segment_joined_skip_invisible</a>(&amp;osj, absolute)) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="comment">// Toggle the flag if we have output. We need to remember that, since we</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="comment">// want to remove the trailing slash.</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      has_output = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <span class="comment">// Output the current segment and a separator. No need to worry about the</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="comment">// superfluous segment since it will be removed later on.</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      pos += <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ae44a699be828ffe58b636e8c6ab13dc0">cwk_path_output_sized</a>(buffer, buffer_size, pos, osj.segment.begin,</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        osj.segment.size);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      pos += <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a6bfc63dd7ba77d04a03cb1dbc2d5524a">cwk_path_output_separator</a>(buffer, buffer_size, pos);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a2ba74980728c6b7c0757fe4ed6491071">cwk_path_get_next_segment_joined</a>(&amp;osj));</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="comment">// If we have some output by now we will have to remove the trailing slash. We</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="comment">// simply do that by moving back one character. The terminate output function</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="comment">// will then place the &#39;\0&#39; on this position. Otherwise, if there is no</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="comment">// output, we will have to output a &quot;current directory&quot;, since the target path</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">// points to the base path.</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordflow">if</span> (has_output) {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    --pos;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    pos += <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a45f6de9e9493fe9ef2771fcace3b5b4e">cwk_path_output_current</a>(buffer, buffer_size, pos);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="comment">// Finally, we can terminate the output - which means we place a &#39;\0&#39; at the</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="comment">// current position or at the end of the buffer.</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa5d775df33238d8c1dc6c24d577bcfd9">cwk_path_terminate_output</a>(buffer, buffer_size, pos);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="keywordflow">return</span> pos;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5ac1f6c3505a13cf6af679b3e1075ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5ac1f6c3505a13cf6af679b3e1075ab">&#9670;&nbsp;</a></span>cwk_path_get_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> void cwk_path_get_root </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines the root of a path. </p>
<p>This function determines the root of a path by finding its length. The root always starts at the submitted path. If the path has no root, the length will be set to zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path which will be inspected. </td></tr>
    <tr><td class="paramname">length</td><td>The output of the root length. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00878">878</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;{</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="comment">// We use a different implementation here based on the configuration of the</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="comment">// library.</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aeef7cc01e8dfcb89adcb6f31ac8139e8">path_style</a> == <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5">CWK_STYLE_WINDOWS</a>) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a717ab7b9a683fefc6f2038a1c0e2e57b">cwk_path_get_root_windows</a>(path, length);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a0b534513ae6fe9f4ec742f161da022c0">cwk_path_get_root_unix</a>(path, length);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  }</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5779262b292913597c5d5ab2c055b9e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5779262b292913597c5d5ab2c055b9e7">&#9670;&nbsp;</a></span>cwk_path_get_segment_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> enum <a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66c">cwk_segment_type</a> cwk_path_get_segment_type </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> *&#160;</td>
          <td class="paramname"><em>segment</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the type of the submitted path segment. </p>
<p>This function inspects the contents of the segment and determines the type of it. Currently, there are three types CWK_NORMAL, CWK_CURRENT and CWK_BACK. A CWK_NORMAL segment is a normal folder or file entry. A CWK_CURRENT is a "./" and a CWK_BACK a "../" segment.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">segment</td><td>The segment which will be inspected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the type of the segment. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01324">1324</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;{</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="comment">// We just make a string comparison with the segment contents and return the</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="comment">// appropriate type.</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/d69/kernel_2include_2string_8h.html#a9afae77e412a26e6c01e26b89d5c2b47">strncmp</a>(<a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#af091380741c08e3a24ecf0b407c70fb2">begin</a>, <span class="stringliteral">&quot;.&quot;</span>, <a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#afb2c298ee1b44ea23e97b7408d535cc2">size</a>) == 0) {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66ca1f03d98e62d4069cca7110ef82664ff7">CWK_CURRENT</a>;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d69/kernel_2include_2string_8h.html#a9afae77e412a26e6c01e26b89d5c2b47">strncmp</a>(<a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#af091380741c08e3a24ecf0b407c70fb2">begin</a>, <span class="stringliteral">&quot;..&quot;</span>, <a class="code" href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">segment</a>-&gt;<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#afb2c298ee1b44ea23e97b7408d535cc2">size</a>) == 0) {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66ca7f5cc99da0786d172da65e718652357b">CWK_BACK</a>;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  }</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160; </div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66cac059231d4bfff9efb6c9ca8500fd1905">CWK_NORMAL</a>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ba934a4a37f1d5911faa140e4e2c46c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ba934a4a37f1d5911faa140e4e2c46c">&#9670;&nbsp;</a></span>cwk_path_get_style()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> enum <a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35">cwk_path_style</a> cwk_path_get_style </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the path style configuration. </p>
<p>This function gets the style configuration which is currently used for the paths. This configuration determines how paths are parsed and generated.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the current path style configuration. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01469">1469</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;{</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="comment">// Simply return the path style which we store in a global variable.</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aeef7cc01e8dfcb89adcb6f31ac8139e8">path_style</a>;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b4517f492f5d5859f599a963cf1026a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b4517f492f5d5859f599a963cf1026a">&#9670;&nbsp;</a></span>cwk_path_guess_style()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> enum <a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35">cwk_path_style</a> cwk_path_guess_style </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Guesses the path style. </p>
<p>This function guesses the path style based on a submitted path-string. The guessing will look at the root and the type of slashes contained in the path and return the style which is more likely used in the path.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path which will be inspected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the style which is most likely used for the path. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01408">1408</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;{</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *c;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="keywordtype">size_t</span> root_length;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a> segment;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160; </div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <span class="comment">// First we determine the root. Only windows roots can be longer than a single</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="comment">// slash, so if we can determine that it starts with something like &quot;C:&quot;, we</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <span class="comment">// know that this is a windows path.</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a717ab7b9a683fefc6f2038a1c0e2e57b">cwk_path_get_root_windows</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, &amp;root_length);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="keywordflow">if</span> (root_length &gt; 1) {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5">CWK_STYLE_WINDOWS</a>;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  }</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <span class="comment">// Next we check for slashes. Windows uses backslashes, while unix uses</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <span class="comment">// forward slashes. Windows actually supports both, but our best guess is to</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="comment">// assume windows with backslashes and unix with forward slashes.</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keywordflow">for</span> (c = <a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>; *c; ++c) {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">if</span> (*c == *<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa6cb61edbcc7e317d61aafbe5a13fc80">separators</a>[<a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2">CWK_STYLE_UNIX</a>]) {</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2">CWK_STYLE_UNIX</a>;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*c == *<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa6cb61edbcc7e317d61aafbe5a13fc80">separators</a>[<a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5">CWK_STYLE_WINDOWS</a>]) {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5">CWK_STYLE_WINDOWS</a>;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    }</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  }</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160; </div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="comment">// This path does not have any slashes. We grab the last segment (which</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="comment">// actually must be the first one), and determine whether the segment starts</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <span class="comment">// with a dot. A dot is a hidden folder or file in the UNIX world, in that</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <span class="comment">// case we assume the path to have UNIX style.</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a2268310f7bba59fe263365ab73b74c83">cwk_path_get_last_segment</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, &amp;segment)) {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="comment">// We couldn&#39;t find any segments, so we default to a UNIX path style since</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="comment">// there is no way to make any assumptions.</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2">CWK_STYLE_UNIX</a>;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160; </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <span class="keywordflow">if</span> (*segment.begin == <span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2">CWK_STYLE_UNIX</a>;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  }</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <span class="comment">// And finally we check whether the last segment contains a dot. If it</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="comment">// contains a dot, that might be an extension. Windows is more likely to have</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="comment">// file names with extensions, so our guess would be windows.</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="keywordflow">for</span> (c = segment.begin; *c; ++c) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="keywordflow">if</span> (*c == <span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5">CWK_STYLE_WINDOWS</a>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160; </div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <span class="comment">// All our checks failed, so we will return a default value which is currently</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <span class="comment">// UNIX.</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2">CWK_STYLE_UNIX</a>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa917d03c0659fdefe8575493295e18d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa917d03c0659fdefe8575493295e18d1">&#9670;&nbsp;</a></span>cwk_path_has_extension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool cwk_path_has_extension </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether the file path has an extension. </p>
<p>This function determines whether the submitted file path has an extension. This will evaluate to true if the last segment of the path contains a dot.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path which will be inspected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the path has an extension or false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01060">1060</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;{</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *extension;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="keywordtype">size_t</span> length;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="comment">// We just wrap the get_extension call which will then do the work for us.</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a01bddf6e55305f34c31f720d5c09e149">cwk_path_get_extension</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, &amp;extension, &amp;length);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aae129e02017ddd7ad9c7d7d24f107079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae129e02017ddd7ad9c7d7d24f107079">&#9670;&nbsp;</a></span>cwk_path_is_absolute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool cwk_path_is_absolute </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine whether the path is absolute or not. </p>
<p>This function checks whether the path is an absolute path or not. A path is considered to be absolute if the root ends with a separator.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path which will be checked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the path is absolute or false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00923">923</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;{</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordtype">size_t</span> length;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160; </div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="comment">// We grab the root of the path. This root does not include the first</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="comment">// separator of a path.</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ab85b1ed4f5b36fd22d1e0f0d65be03a1">cwk_path_get_root</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, &amp;length);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160; </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="comment">// Now we can determine whether the root is absolute or not.</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a7031ed4abfd806cc68acd9ace2d23120">cwk_path_is_root_absolute</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>, length);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab734e7277e96ea5d5acec4fbbd2fc402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab734e7277e96ea5d5acec4fbbd2fc402">&#9670;&nbsp;</a></span>cwk_path_is_relative()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool cwk_path_is_relative </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine whether the path is relative or not. </p>
<p>This function checks whether the path is a relative path or not. A path is considered to be relative if the root does not end with a separator.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path which will be checked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the path is relative or false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00935">935</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;{</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="comment">// The path is relative if it is not absolute.</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a805349f9c4f2783187e34a236cedb9b6">cwk_path_is_absolute</a>(<a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2703a5d58bd1fd5aea8302c413660a27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2703a5d58bd1fd5aea8302c413660a27">&#9670;&nbsp;</a></span>cwk_path_is_separator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> bool cwk_path_is_separator </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the submitted pointer points to a separator. </p>
<p>This function simply checks whether the submitted pointer points to a separator, which has to be null-terminated (but not necessarily after the separator). The function will return true if it is a separator, or false otherwise.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">symbol</td><td>A pointer to a string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if it is a separator, or false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01338">1338</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;{</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *c;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160; </div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="comment">// We loop over all characters in the read symbols.</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  c = <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa6cb61edbcc7e317d61aafbe5a13fc80">separators</a>[<a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aeef7cc01e8dfcb89adcb6f31ac8139e8">path_style</a>];</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keywordflow">while</span> (*c) {</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordflow">if</span> (*c == *str) {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    }</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    ++c;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  }</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b0ad7a91b604b5fff516499b84c97d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b0ad7a91b604b5fff516499b84c97d7">&#9670;&nbsp;</a></span>cwk_path_join()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t cwk_path_join </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path_b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Joins two paths together. </p>
<p>This function generates a new path by combining the two submitted paths. It will remove double separators, and unlike cwk_path_get_absolute it permits the use of two relative paths to combine. The result will be written to a buffer, which might be truncated if the buffer is not large enough to hold the full path. However, the truncated result will always be null-terminated. The returned value is the amount of characters which the resulting path would take if it was not truncated (excluding the null-terminating character).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path_a</td><td>The first path which comes first. </td></tr>
    <tr><td class="paramname">path_b</td><td>The second path which comes after the first. </td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer where the result will be written to. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>The size of the result buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the total amount of characters of the full, combined path. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00854">854</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;{</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *paths[3];</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="comment">// This is simple. We will just create an array with the two paths which we</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="comment">// wish to join.</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  paths[0] = path_a;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  paths[1] = path_b;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  paths[2] = NULL;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="comment">// And then call the join and normalize function which will do the hard work</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="comment">// for us.</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ac88ffacd0f2aa502b9f67c6d5acc9b65">cwk_path_join_and_normalize_multiple</a>(paths, buffer, buffer_size);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac032cd6779d648b793ef66efbb6219d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac032cd6779d648b793ef66efbb6219d6">&#9670;&nbsp;</a></span>cwk_path_join_multiple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t cwk_path_join_multiple </td>
          <td>(</td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>paths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Joins multiple paths together. </p>
<p>This function generates a new path by joining multiple paths together. It will remove double separators, and unlike cwk_path_get_absolute it permits the use of multiple relative paths to combine. The last path of the submitted string array must be set to NULL. The result will be written to a buffer, which might be truncated if the buffer is not large enough to hold the full path. However, the truncated result will always be null-terminated. The returned value is the amount of characters which the resulting path would take if it was not truncated (excluding the null-terminating character).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">paths</td><td>An array of paths which will be joined. </td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer where the result will be written to. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>The size of the result buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the total amount of characters of the full, combined path. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00870">870</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;{</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <span class="comment">// We can just call the internal join and normalize function for this one,</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="comment">// since it will handle everything.</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ac88ffacd0f2aa502b9f67c6d5acc9b65">cwk_path_join_and_normalize_multiple</a>(paths, buffer, buffer_size);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a670897583339fbff8befc11da880018c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a670897583339fbff8befc11da880018c">&#9670;&nbsp;</a></span>cwk_path_normalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> size_t cwk_path_normalize </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a normalized version of the path. </p>
<p>This function creates a normalized version of the path within the specified buffer. This function will not write out more than the specified buffer can contain. However, the generated string is always null-terminated - even if not the whole path is written out. The function returns the total number of characters the complete buffer would have, even if it was not written out completely. The path may be the same memory address as the buffer.</p>
<p>The following will be true for the normalized path: 1) "../" will be resolved. 2) "./" will be removed. 3) double separators will be fixed with a single separator. 4) separator suffixes will be removed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path which will be normalized. </td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer where the new path is written to. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>The size of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The size which the complete normalized path has if it was not truncated. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01140">1140</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;{</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *paths[2];</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160; </div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="comment">// Now we initialize the paths which we will normalize. Since this function</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="comment">// only supports submitting a single path, we will only add that one.</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  paths[0] = <a class="code" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">path</a>;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  paths[1] = NULL;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ac88ffacd0f2aa502b9f67c6d5acc9b65">cwk_path_join_and_normalize_multiple</a>(paths, buffer, buffer_size);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e75a1f14754498a0079bb11f9ddca9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e75a1f14754498a0079bb11f9ddca9a">&#9670;&nbsp;</a></span>cwk_path_set_style()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a1557461a3dd64c516ec9eb8bf08de382">CWK_PUBLIC</a> void cwk_path_set_style </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35">cwk_path_style</a>&#160;</td>
          <td class="paramname"><em>style</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures which path style is used. </p>
<p>This function configures which path style is used. The following styles are currently supported.</p>
<p>CWK_STYLE_WINDOWS: Use backslashes as a separator and volume for the root. CWK_STYLE_UNIX: Use slashes as a separator and a slash for the root.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">style</td><td>The style which will be used from now on. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01461">1461</a> of file <a class="el" href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html">cwalk.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;{</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <span class="comment">// We can just set the global path style variable and then the behaviour for</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="comment">// all functions will change accordingly.</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <a class="code" href="../../dc/da7/assert_8h.html#af576bf8ffa22a44e53018c67095ffbf0">assert</a>(style == <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2">CWK_STYLE_UNIX</a> || style == <a class="code" href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5">CWK_STYLE_WINDOWS</a>);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <a class="code" href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aeef7cc01e8dfcb89adcb6f31ac8139e8">path_style</a> = style;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_acfd833c41dae993e90dba669564a63f4"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#acfd833c41dae993e90dba669564a63f4">cwk_path_get_next_segment</a></div><div class="ttdeci">bool cwk_path_get_next_segment(struct cwk_segment *segment)</div><div class="ttdoc">Advances to the next segment.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01255">cwalk.c:1255</a></div></div>
<div class="ttc" id="auserspace_2libs_2cwalk_2cwalk_8h_html_a5f8e50048e43b4ded04cef354dafcf31"><div class="ttname"><a href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a5f8e50048e43b4ded04cef354dafcf31">cwk_segment::segments</a></div><div class="ttdeci">const char * segments</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3a/kernel_2include_2cwalk_8h_source.html#l00067">cwalk.h:67</a></div></div>
<div class="ttc" id="akernel_2include_2string_8h_html_a9afae77e412a26e6c01e26b89d5c2b47"><div class="ttname"><a href="../../d1/d69/kernel_2include_2string_8h.html#a9afae77e412a26e6c01e26b89d5c2b47">strncmp</a></div><div class="ttdeci">int strncmp(const char *s1, const char *s2, unsigned long n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/string_8c_source.html#l00053">string.c:53</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a805349f9c4f2783187e34a236cedb9b6"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a805349f9c4f2783187e34a236cedb9b6">cwk_path_is_absolute</a></div><div class="ttdeci">bool cwk_path_is_absolute(const char *path)</div><div class="ttdoc">Determine whether the path is absolute or not.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00923">cwalk.c:923</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a6bfc63dd7ba77d04a03cb1dbc2d5524a"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a6bfc63dd7ba77d04a03cb1dbc2d5524a">cwk_path_output_separator</a></div><div class="ttdeci">static size_t cwk_path_output_separator(char *buffer, size_t buffer_size, size_t position)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00114">cwalk.c:114</a></div></div>
<div class="ttc" id="akernel_2include_2string_8h_html_a7dcc610f4b04a8ee418f03a6d9256629"><div class="ttname"><a href="../../d1/d69/kernel_2include_2string_8h.html#a7dcc610f4b04a8ee418f03a6d9256629">strlen</a></div><div class="ttdeci">long unsigned strlen(const char s[])</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db5/String_8c_source.html#l00060">String.c:60</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_aa69c39acc427954362db13d3f4a726a9"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa69c39acc427954362db13d3f4a726a9">cwk_path_output</a></div><div class="ttdeci">static size_t cwk_path_output(char *buffer, size_t buffer_size, size_t position, const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00129">cwalk.c:129</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a1a43318c3244e8b93d3c686c35821e09"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a1a43318c3244e8b93d3c686c35821e09">cwk_path_get_first_segment_joined</a></div><div class="ttdeci">static bool cwk_path_get_first_segment_joined(const char **paths, struct cwk_segment_joined *sj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00276">cwalk.c:276</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_afaa21620b71c743a0e59b9f1138bcb7e"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#afaa21620b71c743a0e59b9f1138bcb7e">cwk_path_find_previous_stop</a></div><div class="ttdeci">static const char * cwk_path_find_previous_stop(const char *begin, const char *c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00196">cwalk.c:196</a></div></div>
<div class="ttc" id="auserspace_2libs_2cwalk_2cwalk_8h_html_ac45c7e4bbd667065ba28819be3034849"><div class="ttname"><a href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#ac45c7e4bbd667065ba28819be3034849">cwk_segment::end</a></div><div class="ttdeci">const char * end</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3a/kernel_2include_2cwalk_8h_source.html#l00069">cwalk.h:69</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a3092b83cdcf9746b82022873267c9679"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a3092b83cdcf9746b82022873267c9679">cwk_path_output_dot</a></div><div class="ttdeci">static size_t cwk_path_output_dot(char *buffer, size_t buffer_size, size_t position)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00122">cwalk.c:122</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a67a63e3978a34a02d116cff7d06c4c73"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a67a63e3978a34a02d116cff7d06c4c73">cwk_path_find_next_stop</a></div><div class="ttdeci">static const char * cwk_path_find_next_stop(const char *c)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00184">cwalk.c:184</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a7031ed4abfd806cc68acd9ace2d23120"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a7031ed4abfd806cc68acd9ace2d23120">cwk_path_is_root_absolute</a></div><div class="ttdeci">static bool cwk_path_is_root_absolute(const char *path, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00589">cwalk.c:589</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_abe0da5227916fc94608ab66a92daf59f"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#abe0da5227916fc94608ab66a92daf59f">cwk_path_is_separator</a></div><div class="ttdeci">bool cwk_path_is_separator(const char *str)</div><div class="ttdoc">Checks whether the submitted pointer points to a separator.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01338">cwalk.c:1338</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_aeef7cc01e8dfcb89adcb6f31ac8139e8"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aeef7cc01e8dfcb89adcb6f31ac8139e8">path_style</a></div><div class="ttdeci">static enum cwk_path_style path_style</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00044">cwalk.c:44</a></div></div>
<div class="ttc" id="aassert_8h_html_af576bf8ffa22a44e53018c67095ffbf0"><div class="ttname"><a href="../../dc/da7/assert_8h.html#af576bf8ffa22a44e53018c67095ffbf0">assert</a></div><div class="ttdeci">#define assert(x)</div><div class="ttdoc">Evaluate assertion.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/da7/assert_8h_source.html#l00009">assert.h:9</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a45f6de9e9493fe9ef2771fcace3b5b4e"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a45f6de9e9493fe9ef2771fcace3b5b4e">cwk_path_output_current</a></div><div class="ttdeci">static size_t cwk_path_output_current(char *buffer, size_t buffer_size, size_t position)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00098">cwalk.c:98</a></div></div>
<div class="ttc" id="akernel_2include_2cwalk_8h_html_a6108f90d2ae646d1b255bea8be6cd66cac059231d4bfff9efb6c9ca8500fd1905"><div class="ttname"><a href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66cac059231d4bfff9efb6c9ca8500fd1905">CWK_NORMAL</a></div><div class="ttdeci">@ CWK_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3a/kernel_2include_2cwalk_8h_source.html#l00083">cwalk.h:83</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a0af52b6862a6bd25e8678ab004ebf841"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a0af52b6862a6bd25e8678ab004ebf841">cwk_path_skip_segments_until_diverge</a></div><div class="ttdeci">static void cwk_path_skip_segments_until_diverge(struct cwk_segment_joined *bsj, struct cwk_segment_joined *osj, bool absolute, bool *base_available, bool *other_available)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00711">cwalk.c:711</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a0b534513ae6fe9f4ec742f161da022c0"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a0b534513ae6fe9f4ec742f161da022c0">cwk_path_get_root_unix</a></div><div class="ttdeci">static void cwk_path_get_root_unix(const char *path, size_t *length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00578">cwalk.c:578</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a94681354e2648fec4ce13153a78339b3"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a94681354e2648fec4ce13153a78339b3">cwk_path_is_string_equal</a></div><div class="ttdeci">static bool cwk_path_is_string_equal(const char *first, const char *second, size_t first_size, size_t second_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00152">cwalk.c:152</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_add919e716831dc9a27b441389d960305"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#add919e716831dc9a27b441389d960305">cwk_path_output_back</a></div><div class="ttdeci">static size_t cwk_path_output_back(char *buffer, size_t buffer_size, size_t position)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00106">cwalk.c:106</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a642ae7f0b4af0374c203cbebb03a1ff1"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a642ae7f0b4af0374c203cbebb03a1ff1">cwk_path_segment_joined_skip_invisible</a></div><div class="ttdeci">static bool cwk_path_segment_joined_skip_invisible(struct cwk_segment_joined *sj, bool absolute)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00483">cwalk.c:483</a></div></div>
<div class="ttc" id="auserspace_2libs_2cwalk_2cwalk_8c_html_d7/d07/structcwk__segment__joined"><div class="ttname"><a href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#d7/d07/structcwk__segment__joined">cwk_segment_joined</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00062">cwalk.c:62</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a717ab7b9a683fefc6f2038a1c0e2e57b"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a717ab7b9a683fefc6f2038a1c0e2e57b">cwk_path_get_root_windows</a></div><div class="ttdeci">static void cwk_path_get_root_windows(const char *path, size_t *length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00495">cwalk.c:495</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_ab85b1ed4f5b36fd22d1e0f0d65be03a1"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ab85b1ed4f5b36fd22d1e0f0d65be03a1">cwk_path_get_root</a></div><div class="ttdeci">void cwk_path_get_root(const char *path, size_t *length)</div><div class="ttdoc">Determines the root of a path.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00878">cwalk.c:878</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_ae44a699be828ffe58b636e8c6ab13dc0"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ae44a699be828ffe58b636e8c6ab13dc0">cwk_path_output_sized</a></div><div class="ttdeci">static size_t cwk_path_output_sized(char *buffer, size_t buffer_size, size_t position, const char *str, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00069">cwalk.c:69</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_ad7f13a9126b2159c07b031a496d654fe"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ad7f13a9126b2159c07b031a496d654fe">cwk_path_get_first_segment</a></div><div class="ttdeci">bool cwk_path_get_first_segment(const char *path, struct cwk_segment *segment)</div><div class="ttdoc">Gets the first segment of a path.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01221">cwalk.c:1221</a></div></div>
<div class="ttc" id="akernel_2include_2cwalk_8h_html_af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5"><div class="ttname"><a href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35a68d37c9e4d4aead2f08321a484ba2da5">CWK_STYLE_WINDOWS</a></div><div class="ttdeci">@ CWK_STYLE_WINDOWS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3a/kernel_2include_2cwalk_8h_source.html#l00094">cwalk.h:94</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a2ba74980728c6b7c0757fe4ed6491071"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a2ba74980728c6b7c0757fe4ed6491071">cwk_path_get_next_segment_joined</a></div><div class="ttdeci">static bool cwk_path_get_next_segment_joined(struct cwk_segment_joined *sj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00299">cwalk.c:299</a></div></div>
<div class="ttc" id="auserspace_2libs_2cwalk_2cwalk_8c_html_a17de2ef0ce93d44c29caa5dd58a293b9"><div class="ttname"><a href="../../de/d75/userspace_2libs_2cwalk_2cwalk_8c.html#a17de2ef0ce93d44c29caa5dd58a293b9">cwk_segment_joined::segment</a></div><div class="ttdeci">struct cwk_segment segment</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00064">cwalk.c:64</a></div></div>
<div class="ttc" id="akernel_2include_2cwalk_8h_html_a6108f90d2ae646d1b255bea8be6cd66ca7f5cc99da0786d172da65e718652357b"><div class="ttname"><a href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66ca7f5cc99da0786d172da65e718652357b">CWK_BACK</a></div><div class="ttdeci">@ CWK_BACK</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3a/kernel_2include_2cwalk_8h_source.html#l00085">cwalk.h:85</a></div></div>
<div class="ttc" id="auserspace_2libs_2cwalk_2cwalk_8h_html_af091380741c08e3a24ecf0b407c70fb2"><div class="ttname"><a href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#af091380741c08e3a24ecf0b407c70fb2">cwk_segment::begin</a></div><div class="ttdeci">const char * begin</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3a/kernel_2include_2cwalk_8h_source.html#l00068">cwalk.h:68</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a2268310f7bba59fe263365ab73b74c83"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a2268310f7bba59fe263365ab73b74c83">cwk_path_get_last_segment</a></div><div class="ttdeci">bool cwk_path_get_last_segment(const char *path, struct cwk_segment *segment)</div><div class="ttdoc">Gets the last segment of the path.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01236">cwalk.c:1236</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_aa5d775df33238d8c1dc6c24d577bcfd9"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa5d775df33238d8c1dc6c24d577bcfd9">cwk_path_terminate_output</a></div><div class="ttdeci">static void cwk_path_terminate_output(char *buffer, size_t buffer_size, size_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00140">cwalk.c:140</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_acdc8c69218f67780f4b8e167a41e1995"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#acdc8c69218f67780f4b8e167a41e1995">cwk_path_change_segment</a></div><div class="ttdeci">size_t cwk_path_change_segment(struct cwk_segment *segment, const char *value, char *buffer, size_t buffer_size)</div><div class="ttdoc">Changes the content of a segment.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01355">cwalk.c:1355</a></div></div>
<div class="ttc" id="akernel_2include_2cwalk_8h_html_a6108f90d2ae646d1b255bea8be6cd66ca1f03d98e62d4069cca7110ef82664ff7"><div class="ttname"><a href="../../dc/d3a/kernel_2include_2cwalk_8h.html#a6108f90d2ae646d1b255bea8be6cd66ca1f03d98e62d4069cca7110ef82664ff7">CWK_CURRENT</a></div><div class="ttdeci">@ CWK_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3a/kernel_2include_2cwalk_8h_source.html#l00084">cwalk.h:84</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_aa1280f7545ff0215f95b65f7ac60155f"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa1280f7545ff0215f95b65f7ac60155f">cwk_path_get_first_segment_without_root</a></div><div class="ttdeci">static bool cwk_path_get_first_segment_without_root(const char *path, const char *segments, struct cwk_segment *segment)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00213">cwalk.c:213</a></div></div>
<div class="ttc" id="auserspace_2libs_2cwalk_2cwalk_8h_html_d5/daa/structcwk__segment"><div class="ttname"><a href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#d5/daa/structcwk__segment">cwk_segment</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3a/kernel_2include_2cwalk_8h_source.html#l00064">cwalk.h:64</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_a01bddf6e55305f34c31f720d5c09e149"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#a01bddf6e55305f34c31f720d5c09e149">cwk_path_get_extension</a></div><div class="ttdeci">bool cwk_path_get_extension(const char *path, const char **extension, size_t *length)</div><div class="ttdoc">Gets the extension of a file path.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l01032">cwalk.c:1032</a></div></div>
<div class="ttc" id="auserspace_2libs_2cwalk_2cwalk_8h_html_afb2c298ee1b44ea23e97b7408d535cc2"><div class="ttname"><a href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#afb2c298ee1b44ea23e97b7408d535cc2">cwk_segment::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3a/kernel_2include_2cwalk_8h_source.html#l00070">cwalk.h:70</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_ac88ffacd0f2aa502b9f67c6d5acc9b65"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#ac88ffacd0f2aa502b9f67c6d5acc9b65">cwk_path_join_and_normalize_multiple</a></div><div class="ttdeci">static size_t cwk_path_join_and_normalize_multiple(const char **paths, char *buffer, size_t buffer_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00601">cwalk.c:601</a></div></div>
<div class="ttc" id="akernel_2libs_2cwalk_8c_html_aa6cb61edbcc7e317d61aafbe5a13fc80"><div class="ttname"><a href="../../d1/dbb/kernel_2libs_2cwalk_8c.html#aa6cb61edbcc7e317d61aafbe5a13fc80">separators</a></div><div class="ttdeci">static const char * separators[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbb/kernel_2libs_2cwalk_8c_source.html#l00052">cwalk.c:52</a></div></div>
<div class="ttc" id="auserspace_2libs_2cwalk_2cwalk_8h_html_a10444973b52135654c24e7a5860a33ef"><div class="ttname"><a href="../../d7/dc7/userspace_2libs_2cwalk_2cwalk_8h.html#a10444973b52135654c24e7a5860a33ef">cwk_segment::path</a></div><div class="ttdeci">const char * path</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3a/kernel_2include_2cwalk_8h_source.html#l00066">cwalk.h:66</a></div></div>
<div class="ttc" id="akernel_2include_2cwalk_8h_html_af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2"><div class="ttname"><a href="../../dc/d3a/kernel_2include_2cwalk_8h.html#af41b6d6cf436770b89a71c7b0dfb8c35ac8ff48d59e9f7ee95937a81d9eb550e2">CWK_STYLE_UNIX</a></div><div class="ttdeci">@ CWK_STYLE_UNIX</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d3a/kernel_2include_2cwalk_8h_source.html#l00095">cwalk.h:95</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_e97933879fd7fd8a82ba7d3e7b04caa6.html">userspace</a></li><li class="navelem"><a class="el" href="../../dir_da467f081c72169f5d504b415d319bdc.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_943004f45d321f880cc7c7db01b4b71e.html">system</a></li><li class="navelem"><a class="el" href="../../dir_8d5e54bfadd42f9251d52d65f3bb1765.html">monoton</a></li><li class="navelem"><a class="el" href="../../de/d07/userspace_2apps_2system_2monoton_2cwalk_8h.html">cwalk.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
